<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ˜“ç»é“œé’±å åœ</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            margin: 20px;
        }
        .result {
            font-size: 18px;
            margin: 10px 0;
        }
        .hexagram-row {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
        }
        .hexagram-column {
            margin: 0 20px;
        }
        .hexagram {
            font-size: 24px;
            margin: 5px 0;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
            margin-top: 20px;
            cursor: pointer;
        }
        .coins {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        .coin {
            font-size: 40px;
            margin: 0 10px;
        }
        .line {
            font-size: 24px;
            margin: 5px 0;
        }
        .description {
            margin-top: 20px;
        }
    </style>
</head>
<body>

    <h1>æ˜“ç»é“œé’±å åœ</h1>
    <p>ç‚¹å‡»æŒ‰é’®å¼€å§‹æ·é“œé’±ï¼Œç”Ÿæˆå¦è±¡ã€‚</p>

    <div class="coins">
        <span id="coin1" class="coin">ğŸŸ¡</span>
        <span id="coin2" class="coin">ğŸŸ¡</span>
        <span id="coin3" class="coin">ğŸŸ¡</span>
    </div>

    <button id="tossButton" onclick="tossCoins()">æ·é“œé’±</button>
    <button id="resetButton" onclick="resetAll()" disabled>é‡ç½®</button>

    <div class="result">
        <p id="lineResult"></p>
    </div>

    <div class="hexagram-row">
        <div class="hexagram-column">
            <h2>æœ¬å¦</h2>
            <div id="originalHexagram" class="hexagram"></div>
            <p id="originalHexagramName"></p>
        </div>
        <div class="hexagram-column">
            <h2>å˜å¦</h2>
            <div id="changedHexagram" class="hexagram"></div>
            <p id="changedHexagramName"></p>
        </div>
    </div>

    <div class="description">
        <p id="originalHexagramDescription"></p>
        <p id="changedHexagramDescription"></p>
    </div>

    <script>
        const guaData = {
            '111111': { name: 'ä¹¾ (QiÃ¡n)', description: 'ä¹¾å¦ï¼šå…ƒäº¨åˆ©è´ã€‚'},
            '000000': { name: 'å¤ (KÅ«n)', description: 'å¤å¦ï¼šå…ƒäº¨ï¼Œåˆ©ç‰é©¬ä¹‹è´ã€‚'},
            '100010': { name: 'å±¯ (ZhÅ«n)', description: 'å±¯å¦ï¼šå…ƒäº¨ï¼Œåˆ©è´ï¼Œå‹¿ç”¨æœ‰æ”¸å¾€ã€‚'},
            '010001': { name: 'è’™ (MÃ©ng)', description: 'è’™å¦ï¼šäº¨ã€‚åŒªæˆ‘æ±‚ç«¥è’™ï¼Œç«¥è’™æ±‚æˆ‘ã€‚'},
            '111010': { name: 'éœ€ (XÅ«)', description: 'éœ€å¦ï¼šæœ‰å­šï¼Œå…‰äº¨ï¼Œè´å‰ã€‚'},
            '010111': { name: 'è®¼ (SÃ²ng)', description: 'è®¼å¦ï¼šæœ‰å­šçª’æƒ•ï¼Œä¸­å‰ã€‚ç»ˆå‡¶ã€‚'},
            '000010': { name: 'å¸ˆ (ShÄ«)', description: 'å¸ˆå¦ï¼šè´ï¼Œä¸ˆäººå‰ã€‚'},
            '010000': { name: 'æ¯” (BÇ)', description: 'æ¯”å¦ï¼šå‰ã€‚åŸç­®ï¼Œå…ƒæ°¸è´ï¼Œæ— å’ã€‚ä¸å®æ–¹æ¥ï¼Œåå¤«å‡¶ã€‚'},
            '110111': { name: 'å°ç•œ (XiÇo XÃ¹)', description: 'å°ç•œå¦ï¼šäº¨ã€‚å¯†äº‘ä¸é›¨ï¼Œè‡ªæˆ‘è¥¿éƒŠã€‚'},
            '111011': { name: 'å±¥ (LÇš)', description: 'å±¥å¦ï¼šå±¥è™å°¾ï¼Œä¸å’¥äººï¼Œäº¨ã€‚'},
            '000111': { name: 'æ³° (TÃ i)', description: 'æ³°å¦ï¼šå°å¾€å¤§æ¥ï¼Œå‰ï¼Œäº¨ã€‚'},
            '111000': { name: 'å¦ (PÇ)', description: 'å¦å¦ï¼šå¦ä¹‹åŒªäººï¼Œä¸åˆ©å›å­è´ï¼Œå¤§å¾€å°æ¥ã€‚'},
            '111101': { name: 'åŒäºº (TÃ³ng RÃ©n)', description: 'åŒäººå¦ï¼šåŒäººäºé‡ï¼Œäº¨ï¼Œåˆ©æ¶‰å¤§å·ï¼Œåˆ©å›å­è´ã€‚'},
            '101111': { name: 'å¤§æœ‰ (DÃ  YÇ’u)', description: 'å¤§æœ‰å¦ï¼šå…ƒäº¨ã€‚'},
            '000100': { name: 'è°¦ (QiÄn)', description: 'è°¦å¦ï¼šäº¨ã€‚å›å­æœ‰ç»ˆã€‚'},
            '001000': { name: 'è±« (YÃ¹)', description: 'è±«å¦ï¼šåˆ©å»ºä¾¯è¡Œå¸ˆã€‚'},
            '011001': { name: 'éš (SuÃ­)', description: 'éšå¦ï¼šå…ƒäº¨ï¼Œåˆ©è´ï¼Œæ— å’ã€‚'},
            '100110': { name: 'è›Š (GÇ”)', description: 'è›Šå¦ï¼šå…ƒäº¨ï¼Œåˆ©æ¶‰å¤§å·ã€‚å…ˆç”²ä¸‰æ—¥ï¼Œåç”²ä¸‰æ—¥ã€‚'},
            '000011': { name: 'ä¸´ (LÃ­n)', description: 'ä¸´å¦ï¼šå…ƒäº¨ï¼Œåˆ©è´ã€‚è‡³äºå…«æœˆæœ‰å‡¶ã€‚'},
            '110000': { name: 'è§‚ (GuÄn)', description: 'è§‚å¦ï¼šç›¥è€Œä¸èï¼Œæœ‰å­šé¡’è‹¥ã€‚'},
            '101001': { name: 'å™¬å—‘ (ShÃ¬ KÃ¨)', description: 'å™¬å—‘å¦ï¼šäº¨ï¼Œåˆ©ç”¨ç‹±ã€‚'},
            '100101': { name: 'è´² (BÃ¬)', description: 'è´²å¦ï¼šäº¨ã€‚å°åˆ©æœ‰æ”¸å¾€ã€‚'},
            '100000': { name: 'å‰¥ (BÅ)', description: 'å‰¥å¦ï¼šä¸åˆ©æœ‰æ”¸å¾€ã€‚'},
            '000001': { name: 'å¤ (FÃ¹)', description: 'å¤å¦ï¼šäº¨ã€‚å‡ºå…¥æ— ç–¾ï¼Œæœ‹æ¥æ— å’ã€‚'},
            '111001': { name: 'æ— å¦„ (WÃº WÃ ng)', description: 'æ— å¦„å¦ï¼šå…ƒï¼Œäº¨ï¼Œåˆ©ï¼Œè´ã€‚å…¶åŒªæ­£æœ‰çœšï¼Œä¸åˆ©æœ‰æ”¸å¾€ã€‚'},
            '100111': { name: 'å¤§ç•œ (DÃ  XÃ¹)', description: 'å¤§ç•œå¦ï¼šåˆ©è´ã€‚ä¸å®¶é£Ÿå‰ï¼Œåˆ©æ¶‰å¤§å·ã€‚'},
            '001111': { name: 'é¢ (YÃ­)', description: 'é¢å¦ï¼šè´å‰ã€‚è§‚é¢ï¼Œè‡ªæ±‚å£å®ã€‚'},
            '111100': { name: 'å¤§è¿‡ (DÃ  GuÃ²)', description: 'å¤§è¿‡å¦ï¼šæ ‹æ¡¡ï¼Œåˆ©æœ‰æ”¸å¾€ï¼Œäº¨ã€‚'},
            '000101': { name: 'å (KÇn)', description: 'åå¦ï¼šä¹ åï¼Œæœ‰å­šï¼Œç»´å¿ƒäº¨ï¼Œè¡Œæœ‰å°šã€‚'},
            '101000': { name: 'ç¦» (LÃ­)', description: 'ç¦»å¦ï¼šåˆ©è´ï¼Œäº¨ã€‚ç•œç‰ç‰›ï¼Œå‰ã€‚'},
            '011010': { name: 'å’¸ (XiÃ¡n)', description: 'å’¸å¦ï¼šäº¨ï¼Œåˆ©è´ï¼Œå–å¥³å‰ã€‚'},
            '010110': { name: 'æ’ (HÃ©ng)', description: 'æ’å¦ï¼šäº¨ï¼Œæ— å’ï¼Œåˆ©è´ï¼Œåˆ©æœ‰æ”¸å¾€ã€‚'},
            '000110': { name: 'é (DÃ¹n)', description: 'éå¦ï¼šäº¨ï¼Œå°åˆ©è´ã€‚'},
            '011000': { name: 'å¤§å£® (DÃ  ZhuÃ ng)', description: 'å¤§å£®å¦ï¼šåˆ©è´ã€‚'},
            '100011': { name: 'æ™‹ (JÃ¬n)', description: 'æ™‹å¦ï¼šåº·ä¾¯ç”¨é”¡é©¬è•ƒåº¶ï¼Œæ˜¼æ—¥ä¸‰æ¥ã€‚'},
            '110100': { name: 'æ˜å¤· (MÃ­ng YÃ­)', description: 'æ˜å¤·å¦ï¼šåˆ©è‰°è´ã€‚'},
            '001010': { name: 'å®¶äºº (JiÄ RÃ©n)', description: 'å®¶äººå¦ï¼šåˆ©å¥³è´ã€‚'},
            '010100': { name: 'ç½ (KuÃ­)', description: 'ç½å¦ï¼šå°äº‹å‰ã€‚'},
            '110001': { name: 'è¹‡ (JiÇn)', description: 'è¹‡å¦ï¼šåˆ©è¥¿å—ï¼Œä¸åˆ©ä¸œåŒ—ã€‚åˆ©è§å¤§äººï¼Œè´å‰ã€‚'},
            '100110': { name: 'è§£ (XiÃ¨)', description: 'è§£å¦ï¼šåˆ©è¥¿å—ã€‚æ— æ‰€å¾€ï¼Œå…¶æ¥å¤å‰ã€‚æœ‰æ”¸å¾€ï¼Œå¤™å‰ã€‚'},
            '010101': { name: 'æŸ (SÇ”n)', description: 'æŸå¦ï¼šæœ‰å­šï¼Œå…ƒå‰ï¼Œæ— å’ï¼Œå¯è´ï¼Œåˆ©æœ‰æ”¸å¾€ã€‚'},
            '101010': { name: 'ç›Š (YÃ¬)', description: 'ç›Šå¦ï¼šåˆ©æœ‰æ”¸å¾€ï¼Œåˆ©æ¶‰å¤§å·ã€‚'},
            '110110': { name: 'å¤¬ (GuÃ i)', description: 'å¤¬å¦ï¼šæ‰¬äºç‹åº­ï¼Œå­šå·ï¼Œæœ‰å‰ï¼Œå‘Šè‡ªé‚‘ï¼Œä¸åˆ©å³æˆï¼Œåˆ©æœ‰æ”¸å¾€ã€‚'},
            '001011': { name: 'å§¤ (GÃ²u)', description: 'å§¤å¦ï¼šå¥³å£®ï¼Œå‹¿ç”¨å–å¥³ã€‚'},
            '101101': { name: 'èƒ (CuÃ¬)', description: 'èƒå¦ï¼šäº¨ã€‚ç‹å‡æœ‰åº™ï¼Œåˆ©è§å¤§äººï¼Œäº¨ï¼Œåˆ©è´ã€‚ç”¨å¤§ç‰²å‰ï¼Œåˆ©æœ‰æ”¸å¾€ã€‚'},
            '110101': { name: 'å‡ (ShÄ“ng)', description: 'å‡å¦ï¼šå…ƒäº¨ï¼Œç”¨è§å¤§äººï¼Œå‹¿æ¤ï¼Œå—å¾å‰ã€‚'},
            '101011': { name: 'å›° (KÃ¹n)', description: 'å›°å¦ï¼šäº¨ï¼Œè´å¤§äººå‰ï¼Œæ— å’ï¼Œæœ‰è¨€ä¸ä¿¡ã€‚'},
            '011101': { name: 'äº• (JÇng)', description: 'äº•å¦ï¼šæ”¹é‚‘ä¸æ”¹äº•ï¼Œæ— ä¸§æ— å¾—ã€‚å¾€æ¥äº•äº•ï¼Œæ±”è‡³äº¦æœªç¹˜äº•ï¼Œç¾¸å…¶ç“¶ï¼Œå‡¶ã€‚'},
            '111110': { name: 'é© (GÃ©)', description: 'é©å¦ï¼šå·±æ—¥ä¹ƒå­šï¼Œå…ƒäº¨ï¼Œåˆ©è´ï¼Œæ‚”äº¡ã€‚'},
            '011111': { name: 'é¼ (DÇng)', description: 'é¼å¦ï¼šå…ƒå‰ï¼Œäº¨ã€‚'},
            '001001': { name: 'éœ‡ (ZhÃ¨n)', description: 'éœ‡å¦ï¼šäº¨ã€‚éœ‡æ¥è™©è™©ï¼Œç¬‘è¨€å“‘å“‘ã€‚éœ‡æƒŠç™¾é‡Œï¼Œä¸ä¸§åŒ•é¬¯ã€‚'},
            '011110': { name: 'è‰® (GÃ¨n)', description: 'è‰®å¦ï¼šè‰®å…¶èƒŒï¼Œä¸è·å…¶èº«ï¼Œè¡Œå…¶åº­ï¼Œä¸è§å…¶äººï¼Œæ— å’ã€‚'},
            '000011': { name: 'æ¸ (JiÃ n)', description: 'æ¸å¦ï¼šå¥³å½’å‰ï¼Œåˆ©è´ã€‚'},
            '110000': { name: 'å½’å¦¹ (GuÄ« MÃ¨i)', description: 'å½’å¦¹å¦ï¼šå¾å‡¶ï¼Œæ— æ”¸åˆ©ã€‚'},
            '100001': { name: 'ä¸° (FÄ“ng)', description: 'ä¸°å¦ï¼šäº¨ï¼Œç‹å‡ä¹‹ï¼Œå‹¿å¿§ï¼Œå®œæ—¥ä¸­ã€‚'},
            '011100': { name: 'æ—… (LÇš)', description: 'æ—…å¦ï¼šå°äº¨ï¼Œæ—…è´å‰ã€‚'},
            '100011': { name: 'å·½ (XÃ¹n)', description: 'å·½å¦ï¼šå°äº¨ï¼Œåˆ©æœ‰æ”¸å¾€ï¼Œåˆ©è§å¤§äººã€‚'},
            '110100': { name: 'å…‘ (DuÃ¬)', description: 'å…‘å¦ï¼šäº¨ï¼Œåˆ©è´ã€‚'},
            '001110': { name: 'æ¶£ (HuÃ n)', description: 'æ¶£å¦ï¼šäº¨ã€‚ç‹å‡æœ‰åº™ï¼Œåˆ©æ¶‰å¤§å·ï¼Œåˆ©è´ã€‚'},
            '011001': { name: 'èŠ‚ (JiÃ©)', description: 'èŠ‚å¦ï¼šäº¨ã€‚è‹¦èŠ‚ä¸å¯è´ã€‚'},
            '101100': { name: 'ä¸­å­š (ZhÅng FÃº)', description: 'ä¸­å­šå¦ï¼šè±šé±¼ï¼Œå‰ã€‚åˆ©æ¶‰å¤§å·ï¼Œåˆ©è´ã€‚'},
            '001101': { name: 'å°è¿‡ (XiÇo GuÃ²)', description: 'å°è¿‡å¦ï¼šäº¨ï¼Œåˆ©è´ã€‚å¯å°äº‹ï¼Œä¸å¯å¤§äº‹ã€‚é£é¸Ÿé—ä¹‹éŸ³ï¼Œä¸å®œä¸Šï¼Œå®œä¸‹ï¼Œå¤§å‰ã€‚'},
            '111101': { name: 'æ—¢æµ (JÃ¬ JÃ¬)', description: 'æ—¢æµå¦ï¼šäº¨å°ï¼Œåˆ©è´ã€‚åˆå‰ç»ˆä¹±ã€‚'},
            '101111': { name: 'æœªæµ (WÃ¨i JÃ¬)', description: 'æœªæµå¦ï¼šäº¨ï¼Œå°ç‹æ±”æµï¼Œæ¿¡å…¶å°¾ï¼Œæ— æ”¸åˆ©ã€‚'}
        };

        let lines = [];
        let originalHexagram = [];
        let changedHexagram = [];

        function tossCoins() {
            const coins = [getCoinResult(), getCoinResult(), getCoinResult()];
            document.getElementById('coin1').innerText = coins[0] ? 'ğŸŸ¡' : 'âšª';
            document.getElementById('coin2').innerText = coins[1] ? 'ğŸŸ¡' : 'âšª';
            document.getElementById('coin3').innerText = coins[2] ? 'ğŸŸ¡' : 'âšª';

            const line = calculateLine(coins);
            lines.unshift(line.text);

            // ä¿å­˜æœ¬å¦å’Œå˜å¦çš„ç»“æœ
            originalHexagram.unshift(line.originalSymbol);
            changedHexagram.unshift(line.changedSymbol);

            document.getElementById('lineResult').innerText = `æœ¬çˆ»: ${line.text}`;

            // æ›´æ–°æ˜¾ç¤ºå¦è±¡
            document.getElementById('originalHexagram').innerHTML = originalHexagram.join('<br>');
            document.getElementById('changedHexagram').innerHTML = changedHexagram.join('<br>');

            if (lines.length === 6) {
                document.getElementById('tossButton').disabled = true;
                document.getElementById('resetButton').disabled = false; // å¯ç”¨é‡ç½®æŒ‰é’®
                displayHexagramNames();
            }
        }

        function getCoinResult() {
            return Math.random() < 0.5;
        }

        function calculateLine(coins) {
            const sum = coins.reduce((a, b) => a + b, 0);
            if (sum === 3) {
                return {text: "O (è€é˜³) -> é˜´çˆ» (â€“ â€“)", originalSymbol: 'â€”', changedSymbol: 'â€“ â€“'};
            } else if (sum === 0) {
                return {text: "Ã— (è€é˜´) -> é˜³çˆ» (â€”)", originalSymbol: 'â€“ â€“', changedSymbol: 'â€”'};
            } else if (sum === 2) {
                return {text: "â€” (å°‘é˜³)", originalSymbol: 'â€”', changedSymbol: 'â€”'};
            } else {
                return {text: "â€“ â€“ (å°‘é˜´)", originalSymbol: 'â€“ â€“', changedSymbol: 'â€“ â€“'};
            }
        }

        function displayHexagramNames() {
            const originalBinary = originalHexagram.map(symbol => symbol === 'â€”' ? '1' : '0').join('');
            const changedBinary = changedHexagram.map(symbol => symbol === 'â€”' ? '1' : '0').join('');

            const originalData = guaData[originalBinary];
            const changedData = guaData[changedBinary];

            document.getElementById('originalHexagramName').innerText = `å¦å: ${originalData.name}`;
            document.getElementById('changedHexagramName').innerText = `å˜å¦å: ${changedData.name}`;

            document.getElementById('originalHexagramDescription').innerText = `å¦è¾: ${originalData.description}`;
            document.getElementById('changedHexagramDescription').innerText = `å˜å¦è¾: ${changedData.description}`;
        }

        function resetAll() {
            // æ¸…ç©ºè®°å½•çš„å¦è±¡å’Œå˜å¦æ•°æ®
            lines = [];
            originalHexagram = [];
            changedHexagram = [];

            // æ¸…ç©ºæ˜¾ç¤ºå†…å®¹
            document.getElementById('originalHexagram').innerHTML = '';
            document.getElementById('changedHexagram').innerHTML = '';
            document.getElementById('originalHexagramName').innerText = '';
            document.getElementById('changedHexagramName').innerText = '';
            document.getElementById('originalHexagramDescription').innerText = '';
            document.getElementById('changedHexagramDescription').innerText = '';
            document.getElementById('lineResult').innerText = '';

            // é‡ç½®æŒ‰é’®çŠ¶æ€
            document.getElementById('tossButton').disabled = false;
            document.getElementById('resetButton').disabled = true;
        }
    </script>

</body>
</html>
